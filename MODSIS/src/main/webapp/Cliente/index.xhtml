<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:composition template = "/WEB-INF/include/bootstrap.xhtml">
        <ui:define name = "head">
            <title>Sabor do Rio - Cliente</title>
            <h:outputStylesheet name="css/cliente.css"></h:outputStylesheet>
        </ui:define>
        <ui:define name = "body">
        	<f:metadata> 
            	<f:viewParam name="codCliente" value="#{clienteBean.cliente.codigoString}" />
            	<f:viewAction action="#{clienteBean.load()}"/>
        	</f:metadata>
            <nav class="navbar navbar-inverse">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <h:outputLink class="navbar-brand" value = "../">Sabor Do Rio</h:outputLink>
                    </div>
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            <li>
                            	<h:outputLink value="../mesa">Dia a Dia</h:outputLink>
                            </li>
                            <li><a href="../venda/listar/">Vendas</a></li>
                            <li class = "active"><a href="#">Clientes</a></li>
                            <li><a href="../produto/">Produtos</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class = "container">
                <div class = "row">
                    <div class = "col-md-12">
                        <h2 class = "main-text">Cliente</h2>
                    </div>
                </div>
                <div class = "row">
                	<h:form id = "formCliente" name = "Form">
	                    <div class = "col-md-6 col-md-offset-3 content-form">
	                        <div class = "row">
	                            <div class = "col-md-12 search-bar">
	                                <div class="input-group">
	                                	<span class="input-group-addon">Código do cliente</span>
	                                    <h:inputText 
	                                    	class = "form-control" 
	                                    	value = "#{clienteBean.searchCod}" 
	                                    	p:placeholder = "Ex: 42"
	                                    	p:autocomplete="off"
	                                    	id = "searchCod"/>
	                                    <span class="input-group-btn">
	                                       	<h:commandButton 
	                                       		class="btn btn-default" 
	                                       		type="button" 
	                                       		p:title = "Procurar cliente com o código informado"
	                                       		value = "Procurar"
	                                       		onclick = "return search();">
	                                       		<f:ajax
	                                       			render = "@form searchCod"
	                                       			execute = "searchCod"
	                                       			event = "click"
	                                       			onevent="ajaxCallHandler('search')"
	                                       			listener = "#{clienteBean.buscar}"
	                                       			>
	                                       		</f:ajax>
	                                       	</h:commandButton>
	                                    </span>
	                                </div>
	                            </div>
	                        </div>
	                        <div class = "row">
	                            <div class = "col-md-12 cliente-form">
	                                    <div class = "row" style = "margin-top: 0px;">
	                                        <div class = "col-md-3">
	                                            <div class = "label-input">Código</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
	                                                </span>
	                                                <input
	                                                	class = "form-control" 
	                                                	value = "#{clienteBean.cliente.codigoString}" 
	                                                	type = "number"
	                                                	readonly = "true"
	                                                	name = "formCliente:codigo1"/>
	                                                <h:inputHidden
	                                                	class = "form-control" 
	                                                	value = "#{clienteBean.cliente.codigoString}" 
	                                                	type = "number"
	                                                	name = "codigo2"/>
	                                            </div>
	                                        </div>
	                                        <div class = "col-md-9">
	                                            <div class = "label-input">Nome</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText 
	                                                	class = "form-control" 
	                                                	p:placeholder = "Pedro Augusto"
	                                                	id = "nome" 
	                                                	type = "text" 
	                                                	name = "nome"
	                                                	p:autocomplete = "off"
	                                                	value = "#{clienteBean.cliente.nome}"/>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class = "row">
	                                        <div class = "col-md-6">
	                                            <div class = "label-input">Telefone</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText 
	                                                	class = "form-control" 
	                                                	p:placeholder = "(21) 3546-6466" 
	                                                	type = "text"
	                                                	p:autocomplete = "off"
	                                                	value = "#{clienteBean.cliente.tel}"
	                                                	id = "telefone"/>
	                                            </div>
	                                        </div>
	                                        <div class = "col-md-6">
	                                            <div class = "label-input">Celular</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-phone" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText
	                                                	class = "form-control" 
	                                                	p:placeholder = "(21) 95556-6565" 
	                                                	type = "text"
	                                                	p:autocomplete = "off" 
	                                                	id = "celular"
	                                                	value = "#{clienteBean.cliente.cel}"/>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class = "row">
	                                        <div class = "col-md-8">
	                                            <div class = "label-input">Email</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText
	                                                	class = "form-control" 
	                                                	p:placeholder = "pedro42@example.com" 
	                                                	type = "email"
	                                                	p:autocomplete = "off" 
	                                                	id = "email"
	                                                	value = "#{clienteBean.cliente.email}"/>
	                                            </div>
	                                        </div>
	                                        <div class = "col-md-4">
	                                            <div class = "label-input">Dia de pagamento</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText 
	                                                	class = "form-control" 
	                                                	p:placeholder = "21" 
	                                                	p:type = "number" 
	                                                	p:min = "1" 
	                                                	p:autocomplete = "off"
	                                                	p:max = "31"
	                                                	p:step = "1" 
	                                                	id = "paymentDay"
	                                                	value = "#{clienteBean.cliente.diaPagamento}"/>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class = "row">
	                                        <div class = "col-md-8">
	                                            <div class = "label-input">Endereço</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText
	                                                	class = "form-control" 
	                                                	p:placeholder = "Nova Iguaçu, Rua Quinze, 165" 
	                                                	type = "text"
	                                                	p:autocomplete = "off" 
	                                                	id = "endr"
	                                                	value = "#{clienteBean.cliente.endereco}"/>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <hr/>
	                                    <div class = "row">
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-primary col-md-12"
	                                            	type = "button"
	                                            	p:title = "Incluir novo cliente"
	                                            	onclick = "return checkForm(false);"
	                                            	p:disabledp = "#{clienteBean.buttons[0]}"
	                                            	value = "Inserir">
	                                            		<f:ajax
	                                            			execute = "@form"
	                                            			render = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('insert')"
	                                            			listener = "#{clienteBean.incluir}">
	                                            		</f:ajax>		  	                                            		
	                                            	</h:commandButton>
	                                        </div>
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-warning col-md-12"
	                                            	type = "button"
	                                            	p:title = "Alterar este cliente"
	                                            	onclick = "return checkForm();"
		                                            p:disabledp = "#{clienteBean.buttons[1]}"
	                                            	value = "Alterar">
	                                            		<f:ajax
	                                            			execute = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('update')"
	                                            			listener = "#{clienteBean.alterar}">
	                                            		</f:ajax>		                                            	
	                                            </h:commandButton>
	                                        </div>
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-danger col-md-12"
	                                            	type = "button"
	                                            	p:title = "Excluir este cliente"
	                                            	onclick = "return checkForm();"
	                                            	p:disabledp = "#{clienteBean.buttons[2]}"
	                                            	value = "Excluir">
	                                            		<f:ajax
	                                            			execute = "@form"
	                                            			render = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('delete')"
	                                            			listener = "#{clienteBean.excluir}">
	                                            		</f:ajax>	                                            	
	                                            	</h:commandButton>
	                                        </div>
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-default col-md-12"
	                                            	p:title = "Limpar todos os campos"
	                                            	value = "Limpar">
	                                            		<f:ajax
	                                            			render = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('clear')"
	                                            			listener = "#{clienteBean.limpar}">
	                                            		</f:ajax>		                                            	
	                                            </h:commandButton>
	                                        </div>
	                                        <div class = "col-md-3">
	                                            <h:outputLink 
	                                            	class = "btn btn-default col-md-12"
	                                            	p:title = "Listar todos os clientes"
	                                            	value = "listar">
	                                            		Listar Todos
	                                            </h:outputLink>
	                                        </div>
	                                    </div>
	                            </div>
	                        </div>
	                    </div>
	                 </h:form>
                </div>
            </div>
        </ui:define>
        
        <ui:define name = "scripts">
        	<h:outputScript name = "js/cliente.js"></h:outputScript>
        	<h:outputScript name = "js/common.js"></h:outputScript>
        </ui:define>

    </ui:composition>
</html>

