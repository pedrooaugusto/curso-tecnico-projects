<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:composition template = "/WEB-INF/include/bootstrap.xhtml">
        <ui:define name = "head">
            <title>Sabor do Rio - Produto</title>
            <h:outputStylesheet name="css/cliente.css"></h:outputStylesheet>
        </ui:define>
        <ui:define name = "body">
        	<f:metadata> 
            	<f:viewParam name="codProduto" value="#{produtoBean.produto.codigoString}" />
            	<f:viewAction action="#{produtoBean.load()}"/>
        	</f:metadata>
            <nav class="navbar navbar-inverse">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <h:outputLink class="navbar-brand" value = "../">Sabor Do Rio</h:outputLink>
                    </div>
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            <li>
                            	<h:outputLink value="../mesa">Dia a Dia</h:outputLink>
                            </li>
                            <li><a href="../venda/listar">Vendas</a></li>
                            <li><a href="../cliente">Clientes</a></li>
                            <li class = "active"><a href="#">Produtos</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class = "container">
                <div class = "row">
                    <div class = "col-md-12">
                        <h2 class = "main-text">Produto</h2>
                    </div>
                </div>
                <div class = "row">
                	<h:form id = "formProduto" name = "Form">
	                    <div class = "col-md-6 col-md-offset-3 content-form">
	                        <div class = "row">
	                            <div class = "col-md-12 search-bar">
	                                <div class="input-group">
	                                	<span class="input-group-addon">Código do produto</span>
	                                    <h:inputText 
	                                    	class = "form-control" 
	                                    	value = "#{produtoBean.searchCod}" 
	                                    	p:placeholder = "Ex: 42"
	                                    	p:autocomplete = "off"
	                                    	id = "searchCod"/>
	                                    <span class="input-group-btn">
	                                       	<h:commandButton 
	                                       		class = "btn btn-default tt_medium" 
	                                       		type = "button" 
	                                       		value = "Procurar"
	                                       		p:data-toggle = "tooltip" 
	                                       		p:title = "Procurar produto com o código informado"
	                                       		onclick = "return search();">
	                                       		<f:ajax
	                                       			render = "@form searchCod"
	                                       			execute = "searchCod"
	                                       			event = "click"
	                                       			onevent="ajaxCallHandler('search')"
	                                       			listener = "#{produtoBean.buscar}">
	                                       		</f:ajax>
	                                       	</h:commandButton>
	                                    </span>
	                                </div>
	                            </div>
	                        </div>
	                        <div class = "row">
	                            <div class = "col-md-12 cliente-form">
	                                    <div class = "row" style = "margin-top: 0px;">
	                                        <div class = "col-md-3">
	                                            <div class = "label-input">Código</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
	                                                </span>
	                                                <input
	                                                	class = "form-control" 
	                                                	value = "#{produtoBean.produto.codigoString}" 
	                                                	type = "number"
	                                                	readonly = "true"
	                                                	name = "formProduto:codigo1"/>
	                                                <h:inputHidden
	                                                	class = "form-control" 
	                                                	value = "#{produtoBean.produto.codigoString}" 
	                                                	type = "number"
	                                                	name = "codigo2"/>
	                                            </div>
	                                        </div>
	                                        <div class = "col-md-9">
	                                            <div class = "label-input">Descrição</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText 
	                                                	class = "form-control" 
	                                                	p:placeholder = "Dolly Guarana 2L"
	                                                	id = "nome" 
	                                                	type = "text" 
	                                                	name = "nome"
	                                                	p:autocomplete = "off"
	                                                	value = "#{produtoBean.produto.nome}"/>
	                                            </div>
	                                        </div>
	                                    </div>
	                                    <div class = "row">
	                                        <div class = "col-md-6">
	                                            <div class = "label-input">Preço</div>
	                                            <div class = "input-group">
	                                                <span class = "input-group-addon">
	                                                    <span class="glyphicon glyphicon-usd" aria-hidden="true"></span>
	                                                </span>
	                                                <h:inputText 
	                                                	class = "form-control" 
	                                                	p:placeholder = "6.75" 
	                                                	p:type = "number"
	                                                	p:min = "1"
	                                                	p:step = "0.01"
	                                                	p:autocomplete = "off"
	                                                	value = "#{produtoBean.produto.preco}"
	                                                	id = "preco"/>
	                                            </div>
	                                        </div>
	                                    </div>
	                                	<div class = "row">
											<div class = "col-md-8">
												<div class = "label-input">Monitorado</div>
												<div class = "input-group">
													<div class="checkbox">
														<label>
															<h:selectBooleanCheckbox
																value = "#{produtoBean.produto.monitorado}"
																name = "monitorado" 
																id = "monitorado"/>Sim
														</label>
													</div>
			        							</div>
											</div>
										</div>
	                                    <hr/>
	                                    <div class = "row">
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-primary col-md-12"
	                                            	type = "button"
	                                            	onclick = "return checkForm(false);"
		                                       		p:data-toggle = "tooltip" 
			                                       	p:title = "Incluir novo produto"
	                                            	p:disabledp = "#{produtoBean.buttons[0]}"
	                                            	value = "Inserir">
	                                            		<f:ajax
	                                            			execute = "@form"
	                                            			render = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('insert')"
	                                            			listener = "#{produtoBean.incluir}">
	                                            		</f:ajax>		  	                                            		
	                                            	</h:commandButton>
	                                        </div>
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-warning col-md-12"
	                                            	type = "button"
	                                            	p:data-toggle = "tooltip" 
	                                       			p:title = "Alterar este produto"
	                                            	onclick = "return checkForm();"
		                                            p:disabledp = "#{produtoBean.buttons[1]}"
	                                            	value = "Alterar">
	                                            		<f:ajax
	                                            			execute = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('update')"
	                                            			listener = "#{produtoBean.alterar}">
	                                            		</f:ajax>		                                            	
	                                            </h:commandButton>
	                                        </div>
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-danger col-md-12"
	                                            	type = "button"
	                                            	p:data-toggle = "tooltip" 
	                                       			p:title = "Excluir este produto"
	                                            	onclick = "return checkForm();"
	                                            	p:disabledp = "#{produtoBean.buttons[2]}"
	                                            	value = "Excluir">
	                                            		<f:ajax
	                                            			execute = "@form"
	                                            			render = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('delete')"
	                                            			listener = "#{produtoBean.excluir}">
	                                            		</f:ajax>	                                            	
	                                            	</h:commandButton>
	                                        </div>
	                                        <div class = "col-md-2">
	                                            <h:commandButton 
	                                            	class = "btn btn-default col-md-12"	
	                                            	p:data-toggle = "tooltip" 
	                                       			p:title = "Limpar todos os campos"
	                                            	value = "Limpar">
	                                            		<f:ajax
	                                            			render = "@form"
	                                            			event = "click"
	                                            			onevent = "ajaxCallHandler('clear')"
	                                            			listener = "#{produtoBean.limpar}">
	                                            		</f:ajax>		                                            	
	                                            </h:commandButton>
	                                        </div>
	                                        <div class = "col-md-3">
	                                            <h:outputLink 
	                                            	class = "btn btn-default col-md-12"
	                                       			p:data-toggle = "tooltip" 
	                                       			p:title = "Listar todos os produtos"
	                                            	value = "listar">
	                                            		Listar Todos
	                                            </h:outputLink>
	                                        </div>
	                                    </div>
	                            </div>
	                        </div>
	                    </div>
	                 </h:form>
                </div>
            </div>
        </ui:define>
        
        <ui:define name = "scripts">
        	<h:outputScript name = "js/produto.js"></h:outputScript>
        	<h:outputScript name = "js/common.js"></h:outputScript>
        </ui:define>

    </ui:composition>
</html>

